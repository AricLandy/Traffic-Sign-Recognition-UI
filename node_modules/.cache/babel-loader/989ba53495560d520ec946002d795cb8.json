{"ast":null,"code":"var _jsxFileName = \"/Users/alandy/Documents/Traffic_Sign_UI/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper'; // import InputBase from '@material-ui/core/InputBase';\n// import SearchIcon from '@material-ui/icons/Search';\n// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n// import { css } from 'glamor';\n// import IconButton from '@material-ui/core/IconButton';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageURL: '',\n      picture: {},\n      uploadInput: null,\n      results: null\n    }; // this.onDrop = this.onDrop.bind(this);\n\n    this.change = this.change.bind(this);\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n  }\n\n  change(e) {\n    console.log(\"Change\", e); // var file = this.refs.file.files[0];\n\n    var reader = new FileReader();\n    this.render(); // var url = reader.readAsDataURL(file);\n  } // // When a picture is uploaded\n  // onDrop(new_picture) {\n  //     // Set the picture\n  //     this.setState({\n  //         picture: new_picture,\n  //     });\n  //\n  //     console.log(new_picture);\n  // }\n\n\n  handleUploadImage(e) {\n    e.preventDefault();\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]); // data.append('filename', this.fileName.value);\n\n    fetch('https://traffic-stage.herokuapp.com/upload', {\n      method: 'PUT',\n      body: data\n    }).then(response => {\n      response.json().then(data => {\n        this.setState({\n          results: data\n        });\n      }); // response.json().then((body) => {\n      //   this.setState({ imageURL: `http://localhost:8000/${body.file}` });\n      // });\n    });\n  }\n\n  render() {\n    console.log(\"Render app\", this.state.results);\n    let results;\n\n    if (this.state.results) {\n      results = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Prediction...\"), this.state.results[0][0].replace('_', ' '));\n    } else {\n      results = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Traffic Sign Recognition\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \" Currently Supports... \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('./Images/stop.png'),\n      alt: \"Stop\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/oneway.png'),\n      alt: \"One Way\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/park.png'),\n      alt: \"Handicap Parking\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/do_not_enter.png'),\n      alt: \"Do Not Enter\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/pedestrian_crossing.png'),\n      alt: \"Pedestrian\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/RR2.png'),\n      alt: \"Rail Road\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/rw.png'),\n      alt: \"Road Work\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('./Images/yield.png'),\n      alt: \"Yield\",\n      width: \"50\",\n      height: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Upload an image to classify it\"), React.createElement(\"input\", {\n      onChange: this.change,\n      ref: ref => {\n        this.uploadInput = ref;\n      },\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.handleUploadImage,\n      variant: \"contained\",\n      size: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Classify\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, results));\n  }\n\n} // <img src={ require('stop_sign_copy.png') } />\n//           <img src='./stop_sign_copy.png' alt=\"img\" />\n// <img src={this.state.imageURL} alt=\"img\" />\n// App.configure(() => {\n//   var cors = require('cors');\n//   App.use(cors());\n// })\n\n\nexport default App;","map":{"version":3,"sources":["/Users/alandy/Documents/Traffic_Sign_UI/src/App.js"],"names":["React","Button","Paper","App","Component","constructor","props","state","imageURL","picture","uploadInput","results","change","bind","handleUploadImage","e","console","log","reader","FileReader","render","preventDefault","data","FormData","append","files","fetch","method","body","then","response","json","setState","replace","require","ref"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\n// import InputBase from '@material-ui/core/InputBase';\n// import SearchIcon from '@material-ui/icons/Search';\n// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n// import { css } from 'glamor';\n// import IconButton from '@material-ui/core/IconButton';\n\n\nclass App extends React.Component{\n\n  constructor(props) {\n        super(props);\n          this.state = {\n            imageURL: '',\n            picture: {},\n            uploadInput: null,\n            results: null\n          };\n         // this.onDrop = this.onDrop.bind(this);\n         this.change = this.change.bind(this);\n         this.handleUploadImage = this.handleUploadImage.bind(this);\n    }\n\n    change(e){\n      console.log(\"Change\", e);\n      // var file = this.refs.file.files[0];\n      var reader = new FileReader();\n      this.render();\n      // var url = reader.readAsDataURL(file);\n    }\n\n  // // When a picture is uploaded\n  // onDrop(new_picture) {\n  //     // Set the picture\n  //     this.setState({\n  //         picture: new_picture,\n  //     });\n  //\n  //     console.log(new_picture);\n\n  // }\n\n  handleUploadImage(e) {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]);\n    // data.append('filename', this.fileName.value);\n\n    fetch('https://traffic-stage.herokuapp.com/upload', {\n      method: 'PUT',\n      body: data\n    }).then((response) => {\n      response.json().then((data) => {\n        this.setState({\n          results: data\n        });\n      });\n      // response.json().then((body) => {\n      //   this.setState({ imageURL: `http://localhost:8000/${body.file}` });\n      // });\n    });\n  }\n\n\n  render(){\n    console.log(\"Render app\", this.state.results);\n    let results;\n    if (this.state.results){\n      results = <div>\n          <h3>Prediction...</h3>\n          {this.state.results[0][0].replace('_', ' ')}\n          </div>\n    }\n    else{\n      results = <p></p>\n    }\n\n    return(\n      <div>\n        <h1>Traffic Sign Recognition</h1>\n        <h3> Currently Supports... </h3>\n        <div>\n            <img src={ require('./Images/stop.png') } alt='Stop' width='50' height='50'/>\n            <img src={ require('./Images/oneway.png') } alt='One Way'width='50' height='50'/>\n            <img src={ require('./Images/park.png') } alt='Handicap Parking'width='50' height='50'/>\n            <img src={ require('./Images/do_not_enter.png') } alt='Do Not Enter'width='50' height='50'/>\n            <img src={ require('./Images/pedestrian_crossing.png') } alt='Pedestrian'width='50' height='50'/>\n            <img src={ require('./Images/RR2.png') } alt='Rail Road'width='50' height='50'/>\n            <img src={ require('./Images/rw.png') } alt='Road Work'width='50' height='50'/>\n            <img src={ require('./Images/yield.png') } alt='Yield'width='50' height='50'/>\n        </div>\n\n        <br />\n        <br />\n\n        <div>\n          <h3>Upload an image to classify it</h3>\n          <input onChange={this.change} ref={(ref) => { this.uploadInput = ref; }} type=\"file\" />\n          <Button onClick={this.handleUploadImage} variant=\"contained\" size=\"medium\" >Classify</Button>\n        </div>\n\n        <br />\n        <br />\n\n        <div>\n          {results}\n        </div>\n\n      </div>\n    )\n  }\n}\n// <img src={ require('stop_sign_copy.png') } />\n//           <img src='./stop_sign_copy.png' alt=\"img\" />\n\n\n// <img src={this.state.imageURL} alt=\"img\" />\n// App.configure(() => {\n//   var cors = require('cors');\n//   App.use(cors());\n// })\nexport default App;\n"]},"metadata":{},"sourceType":"module"}