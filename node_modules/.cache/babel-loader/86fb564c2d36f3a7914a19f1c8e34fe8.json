{"ast":null,"code":"var _jsxFileName = \"/Users/alandy/Documents/Traffic_Sign_UI/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button'; // import Paper from '@material-ui/core/Paper';\n// import InputBase from '@material-ui/core/InputBase';\n// import SearchIcon from '@material-ui/icons/Search';\n// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n// import { css } from 'glamor';\n// import IconButton from '@material-ui/core/IconButton';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageURL: '',\n      picture: {}\n    }; // this.onDrop = this.onDrop.bind(this);\n\n    this.change = this.change.bind(this);\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n  }\n\n  change() {\n    console.log(\"Change\");\n  } // // When a picture is uploaded\n  // onDrop(new_picture) {\n  //     // Set the picture\n  //     this.setState({\n  //         picture: new_picture,\n  //     });\n  //\n  //     console.log(new_picture);\n  //     var file = this.refs.file.files[0];\n  //   var reader = new FileReader();\n  //   var url = reader.readAsDataURL(file);\n  // }\n\n\n  handleUploadImage(e) {\n    console.log(\"HANDLE\");\n    e.preventDefault();\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]); // data.append('filename', this.fileName.value);\n\n    fetch('http://0.0.0.0:5000/upload', {\n      method: 'PUT',\n      body: data\n    }).then(response => {\n      response.json().then(r => {\n        console.log(r);\n      }); // response.json().then((body) => {\n      //   this.setState({ imageURL: `http://localhost:8000/${body.file}` });\n      // });\n    });\n  }\n\n  render() {\n    console.log(\"Render app\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Traffic Sign Recognition\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" Currently Supports: Stop Sign, Rail Road Crossing, Yield, One Way, Handicapped Parking, Pedestrian Crossing, Wrong Way\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.change,\n      ref: ref => {\n        this.uploadInput = ref;\n      },\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.handleUploadImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Classify\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('./stop_sign_copy.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })));\n  }\n\n} // <img src={this.state.imageURL} alt=\"img\" />\n// App.configure(() => {\n//   var cors = require('cors');\n//   App.use(cors());\n// })\n\n\nexport default App;","map":{"version":3,"sources":["/Users/alandy/Documents/Traffic_Sign_UI/src/App.js"],"names":["React","Button","App","Component","constructor","props","state","imageURL","picture","change","bind","handleUploadImage","console","log","e","preventDefault","data","FormData","append","uploadInput","files","fetch","method","body","then","response","json","r","render","ref","require"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,0BAAnB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAMC,GAAN,SAAkBF,KAAK,CAACG,SAAxB,CAAiC;AAE/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACb,UAAMA,KAAN;AACE,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb,CAFW,CAMZ;;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACJ;;AAEDD,EAAAA,MAAM,GAAE;AACNG,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACD,GAf4B,CAiB/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAF,EAAAA,iBAAiB,CAACG,CAAD,EAAI;AACnBF,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAC,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,KAAKC,WAAL,CAAiBC,KAAjB,CAAuB,CAAvB,CAApB,EALmB,CAMnB;;AAEAC,IAAAA,KAAK,CAAC,4BAAD,EAA+B;AAClCC,MAAAA,MAAM,EAAE,KAD0B;AAElCC,MAAAA,IAAI,EAAEP;AAF4B,KAA/B,CAAL,CAGGQ,IAHH,CAGSC,QAAD,IAAc;AACpBA,MAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAsBG,CAAD,IAAO;AAC1Bf,QAAAA,OAAO,CAACC,GAAR,CAAYc,CAAZ;AACD,OAFD,EADoB,CAIpB;AACA;AACA;AACD,KAVD;AAWD;;AAGDC,EAAAA,MAAM,GAAE;AACNhB,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iIAFF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,QAAQ,EAAE,KAAKJ,MAAtB;AAA8B,MAAA,GAAG,EAAGoB,GAAD,IAAS;AAAE,aAAKV,WAAL,GAAmBU,GAAnB;AAAyB,OAAvE;AAAyE,MAAA,IAAI,EAAC,MAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKlB,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CAJF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAGmB,OAAO,CAAC,sBAAD,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CARF,CADF;AAeD;;AArE8B,C,CAuEjC;AACA;AACA;AACA;AACA;;;AACA,eAAe5B,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Button from '@material-ui/core/Button';\n// import Paper from '@material-ui/core/Paper';\n// import InputBase from '@material-ui/core/InputBase';\n// import SearchIcon from '@material-ui/icons/Search';\n// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n// import { css } from 'glamor';\n// import IconButton from '@material-ui/core/IconButton';\n\n\nclass App extends React.Component{\n\n  constructor(props) {\n        super(props);\n          this.state = {\n            imageURL: '',\n            picture: {}\n          };\n         // this.onDrop = this.onDrop.bind(this);\n         this.change = this.change.bind(this);\n         this.handleUploadImage = this.handleUploadImage.bind(this);\n    }\n\n    change(){\n      console.log(\"Change\");\n    }\n\n  // // When a picture is uploaded\n  // onDrop(new_picture) {\n  //     // Set the picture\n  //     this.setState({\n  //         picture: new_picture,\n  //     });\n  //\n  //     console.log(new_picture);\n  //     var file = this.refs.file.files[0];\n  //   var reader = new FileReader();\n  //   var url = reader.readAsDataURL(file);\n  // }\n\n  handleUploadImage(e) {\n    console.log(\"HANDLE\");\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]);\n    // data.append('filename', this.fileName.value);\n\n    fetch('http://0.0.0.0:5000/upload', {\n      method: 'PUT',\n      body: data\n    }).then((response) => {\n      response.json().then((r) => {\n        console.log(r);\n      });\n      // response.json().then((body) => {\n      //   this.setState({ imageURL: `http://localhost:8000/${body.file}` });\n      // });\n    });\n  }\n\n\n  render(){\n    console.log(\"Render app\");\n    return(\n      <div>\n        <h1>Traffic Sign Recognition</h1>\n        <p> Currently Supports: Stop Sign, Rail Road Crossing, Yield, One Way, Handicapped Parking, Pedestrian Crossing, Wrong Way</p>\n\n        <div>\n          <input onChange={this.change} ref={(ref) => { this.uploadInput = ref; }} type=\"file\" />\n          <Button onClick={this.handleUploadImage}>Classify</Button>\n        </div>\n        <div>\n          <img src={ require('./stop_sign_copy.png') } />\n        </div>\n\n      </div>\n    )\n  }\n}\n// <img src={this.state.imageURL} alt=\"img\" />\n// App.configure(() => {\n//   var cors = require('cors');\n//   App.use(cors());\n// })\nexport default App;\n"]},"metadata":{},"sourceType":"module"}